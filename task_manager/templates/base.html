<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{% block title %}TaskApp{% endblock %}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background:#f2f5f7; color:#222;}
    header { background:#1f6feb; color:#fff; padding: 12px 20px; }
    .container { max-width: 1000px; margin: 20px auto; background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.06);}
    nav a { color:#fff; margin-right:12px; text-decoration:none; font-weight:600; }
    table { width:100%; border-collapse: collapse; margin-top:10px;}
    th,td { padding:8px; border-bottom:1px solid #eee; }
    .btn { display:inline-block; padding:6px 10px; border-radius:6px; text-decoration:none; background:#1f6feb; color:#fff; }
    .danger { background: #e53e3e; }
    .muted { color:#666; font-size:0.9em; }
    label{ display:block; margin-top:8px; }
    input, textarea, select { width:100%; padding:8px; margin-top:6px; border-radius:6px; border:1px solid #ddd; }
    .small { font-size:0.9em; color:#666; }
    table{text-align: center;}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <strong>Task Management</strong>
        {% if user.is_authenticated %}
          <span style="margin-left:20px">Hello, {{ user.username }} {% if user.profile %}({{ user.profile.role }}){% endif %}</span>
          <a href="{% url 'tasks_list_html' %}" class="btn" style="background:#0b79d0">My Tasks</a>
          {% if user.profile.role == "superadmin" %}
            <a href="{% url 'users_list' %}" class="btn">Manage Users</a>
          {% endif %}
          <a href="{% url 'logout' %}" class="btn" style="background:#666">Logout</a>
        {% else %}
          <a href="{% url 'login' %}" class="btn">Login</a>
        {% endif %}
      </nav>
    </div>
  </header>

  <div class="container">
    {% block content %}{% endblock %}
  </div>
</body>
</html>